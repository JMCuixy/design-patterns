## 一、概念  
- 模板方法模式：在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重现定义算法中的某些步骤。  
- 解析：模板方法模式用来创建一个算法的模板。什么是模板？模板就是一个方法。更具体地说，这个方法将算法定义成一组步骤，其中的任何步骤都可以是抽象的，由子类负责实现。这可以确保算法的结构保持不变，同时由子类提供部分实现。  
- 角色：  
&emsp;1、抽象模板(Abstract Template)：定义模板方法，规范了一组步骤，其中父类可以实现其中的某些步骤，需要由子类实现的步骤声明为 abstract。  
&emsp;2、具体模板(Concrete Template)：继承抽象父类，实现抽象父类中声明为 abstract 的方法。  

![avatar][base64str] 

## 二、Demo 实现   

### 1、抽象模板

### 2、具体模板

### 3、测试


## 三、总结   
- 模板方法模式的通用类图非常简单，仅仅使用了Java的继承机制，但它是一个非常广泛的模式。  
- 优点：  
&emsp;1、封装不变部分，扩展可变部分。把认为不变部分的算法封装到父类中实现，而可变部分的则可以通过继承来继续扩展。可以将代码最大复用化。    
&emsp;2、父类规范算法行为，子类提供完整实现。  
- 使用场景：  
&emsp;1、多个子类有共有的方法，并且逻辑基本相同。  
&emsp;2、一次性实现一个算法的不变部分，并且将可变的行为留给子类来完成。   
- 为防止子类改变模板方法中的算法，可以将模板方法声明为 final。  
- 策略模式和模板方法模式都封装算法，但是策略模式使用的是组合，模板方法模式使用的是继承。  
- 工厂方法是模板方法的一种特殊版本。 
- 低层组件可以调用高层组件中的方法（实际上子类会常常调用其从父类中继承所来的方法），但是我们要做的是要避免让高层和底层组件之间有明显的**环状依赖**。   

[base64str]:data:image/png;base64,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